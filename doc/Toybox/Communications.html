<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Module: Toybox::Communications
  
    &mdash; Connect IQ SDK
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../';
  framesUrl = "../frames.html#!Toybox/Communications.html";
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Toybox.html" title="Toybox (module)">Toybox</a></span></span>
     &raquo; 
    <span class="title">Communications</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Module: Toybox::Communications
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Widgets and apps will be able to communicate with a mobile phone via
Bluetooth Low Energy (BLE). The mobile phone may be sharing data with the
device, or it may act as a bridge between the app and the Internet. This
allows the mobile phone to become part of the wearable web.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Supported Devices:</p>
<ul class="supported">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>fr920xt</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>vivoactive</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>fenix 3</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>epix</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">App Types:</p>
<ul class="apptype">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>Widget</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>App</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Requires Permission:</p>
<ul class="permission">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>Communications</p>
</div>
      
    </li>
  
</ul>

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Communications/ConnectionListener.html" title="Toybox::Communications::ConnectionListener (class)">ConnectionListener</a></span>, <span class='object_link'><a href="Communications/MailboxIterator.html" title="Toybox::Communications::MailboxIterator (class)">MailboxIterator</a></span>
    
  
</p>

  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="UNKNOWN_ERROR-constant" class="">UNKNOWN_ERROR = 0  <div class="docstring">
  <div class="discussion">
    
<p>Additional Resonse codes that can occur from JSON requests</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
      
        <dt id="BLE_ERROR-constant" class="">BLE_ERROR = -1  
        </dt>
      
        <dt id="BLE_HOST_TIMEOUT-constant" class="">BLE_HOST_TIMEOUT = -2  
        </dt>
      
        <dt id="BLE_SERVER_TIMEOUT-constant" class="">BLE_SERVER_TIMEOUT = -3  
        </dt>
      
        <dt id="BLE_NO_DATA-constant" class="">BLE_NO_DATA = -4  
        </dt>
      
        <dt id="BLE_REQUEST_CANCELLED-constant" class="">BLE_REQUEST_CANCELLED = -5  
        </dt>
      
        <dt id="BLE_QUEUE_FULL-constant" class="">BLE_QUEUE_FULL = -101  
        </dt>
      
        <dt id="BLE_REQUEST_TOO_LARGE-constant" class="">BLE_REQUEST_TOO_LARGE = -102  
        </dt>
      
        <dt id="BLE_UNKNOWN_SEND_ERROR-constant" class="">BLE_UNKNOWN_SEND_ERROR = -103  
        </dt>
      
        <dt id="BLE_CONNECTION_UNAVAILABLE-constant" class="">BLE_CONNECTION_UNAVAILABLE = -104  
        </dt>
      
        <dt id="INVALID_HTTP_HEADER_FIELDS_IN_REQUEST-constant" class="">INVALID_HTTP_HEADER_FIELDS_IN_REQUEST = -200  
        </dt>
      
        <dt id="INVALID_HTTP_BODY_IN_REQUEST-constant" class="">INVALID_HTTP_BODY_IN_REQUEST = -201  
        </dt>
      
        <dt id="INVALID_HTTP_METHOD_IN_REQUEST-constant" class="">INVALID_HTTP_METHOD_IN_REQUEST = -202  
        </dt>
      
        <dt id="NETWORK_REQUEST_TIMED_OUT-constant" class="">NETWORK_REQUEST_TIMED_OUT = -300  
        </dt>
      
        <dt id="INVALID_HTTP_BODY_IN_NETWORK_RESPONSE-constant" class="">INVALID_HTTP_BODY_IN_NETWORK_RESPONSE = -400  
        </dt>
      
        <dt id="INVALID_HTTP_HEADER_FIELDS_IN_NETWORK_RESPONSE-constant" class="">INVALID_HTTP_HEADER_FIELDS_IN_NETWORK_RESPONSE = -401  
        </dt>
      
        <dt id="NETWORK_RESPONSE_TOO_LARGE-constant" class="">NETWORK_RESPONSE_TOO_LARGE = -402  
        </dt>
      
    </dl>
  







  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#emptyMailbox-instance_method" title="#emptyMailbox (instance method)">- (Object) <strong>emptyMailbox</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>To clear the contents of the mailbox, call emptyMailbox().</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#getMailbox-instance_method" title="#getMailbox (instance method)">- (MailboxIterator) <strong>getMailbox</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Call getMailbox() to get the MailboxIterator for this App&#39;s mailbox.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#makeImageRequest-instance_method" title="#makeImageRequest (instance method)">- (Object) <strong>makeImageRequest</strong>(url, options, responseCallback) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>To request an image through Garmin Connect Mobile, call makeImageRequest().</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#makeJsonRequest-instance_method" title="#makeJsonRequest (instance method)">- (Object) <strong>makeJsonRequest</strong>(url, request, options, responseCallback) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>To use Garmin Connect Mobile as a proxy to the web, use makeJsonRequest().</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#setMailboxListener-instance_method" title="#setMailboxListener (instance method)">- (Object) <strong>setMailboxListener</strong>(listener) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add a listener for mailbox events.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#transmit-instance_method" title="#transmit (instance method)">- (Object) <strong>transmit</strong>(content, options, listener) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Send data across the the BLE link.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="emptyMailbox-instance_method">
  
    - (<tt>Object</tt>) <strong>emptyMailbox</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>To clear the contents of the mailbox, call emptyMailbox().</p>


  </div>
</div>
<div class="tags">
  

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="getMailbox-instance_method">
  
    - (<tt><span class='object_link'><a href="Communications/MailboxIterator.html" title="Toybox::Communications::MailboxIterator (class)">MailboxIterator</a></span></tt>) <strong>getMailbox</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Call getMailbox() to get the MailboxIterator for this App&#39;s mailbox.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Communications/MailboxIterator.html" title="Toybox::Communications::MailboxIterator (class)">MailboxIterator</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Iterator for the mailbox</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="makeImageRequest-instance_method">
  
    - (<tt>Object</tt>) <strong>makeImageRequest</strong>(url, options, responseCallback) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>To request an image through Garmin Connect Mobile, call makeImageRequest().
GCM will scale and dither the image based on the capabilities of the
device, but the user will be able to pass additional options (like
dithering it down to a one color image)</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>url</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>URL of image to request</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Dictionary</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Additional image options (TBD)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>responseCallback</span>
      
      
        <span class='type'>(<tt>Method</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>This is a callback in the format function responseCallback(responseCode,
data); responseCode has the server response code, and data contains a
WatchUi.Bitmap if it was successful.</p>
</div>
      
    </li>
  
</ul>


</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="makeJsonRequest-instance_method">
  
    - (<tt>Object</tt>) <strong>makeJsonRequest</strong>(url, request, options, responseCallback) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>To use Garmin Connect Mobile as a proxy to the web, use makeJsonRequest().
The request is asynchronous; the responseCallback will be called when the
request returns.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>url</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The URL being requested</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>request</span>
      
      
        <span class='type'>(<tt>Dictionary</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Dictionary of keys and values, appended to the URL as a GET request. Can be
null.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Dictionary</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Dictionary of options. Can be null. makeJsonRequest does not currently
support any options.  Future options are TBD.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>responseCallback</span>
      
      
        <span class='type'>(<tt>Method</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>This is a callback in the format function responseCallback(responseCode,
data); responseCode has the server response code, and data contains a
Dictionary of content if the request was successful.</p>
</div>
      
    </li>
  
</ul>


</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="setMailboxListener-instance_method">
  
    - (<tt>Object</tt>) <strong>setMailboxListener</strong>(listener) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add a listener for mailbox events.  The listener method is called whenever
a new message is received</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>listener</span>
      
      
        <span class='type'>(<tt>Method</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Callback in the format function listener(iterator) where iterator is the
mailbox iterator for the app</p>
</div>
      
    </li>
  
</ul>


</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="transmit-instance_method">
  
    - (<tt>Object</tt>) <strong>transmit</strong>(content, options, listener) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Send data across the the BLE link.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>content</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The object to be sent</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Dictionary</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Additional transmit options (TBD)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>listener</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Communications/ConnectionListener.html" title="Toybox::Communications::ConnectionListener (class)">ConnectionListener</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>An extension of the ConnectionListener class</p>
</div>
      
    </li>
  
</ul>


</div>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Thu Feb 26 13:03:07 2015 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.4 (ruby-2.0.0).
</div>

  </body>
</html>